// Code generated by girgen. DO NOT EDIT.

package gtk

import (
	"unsafe"

	"github.com/diamondburned/gotk4/pkg/gdk/v4"
)

// #cgo pkg-config: gtk4
// #cgo CFLAGS: -Wno-deprecated-declarations
// #include <stdbool.h>
// #include <gtk/gtk.h>
import "C"

// AcceleratorGetDefaultModMask gets the modifier mask.
//
// The modifier mask determines which modifiers are considered significant for
// keyboard accelerators. This includes all keyboard modifiers except for
// GDK_LOCK_MASK.
func AcceleratorGetDefaultModMask() gdk.ModifierType {
	ret := C.gtk_accelerator_get_default_mod_mask()

	var ret0 gdk.ModifierType

	ret0 = gdk.ModifierType(ret)

	return ret0
}

// AcceleratorGetLabel converts an accelerator keyval and modifier mask into a
// string which can be used to represent the accelerator to the user.
func AcceleratorGetLabel(acceleratorKey uint, acceleratorMods gdk.ModifierType) string {
	var arg1 C.guint
	var arg2 C.GdkModifierType

	arg1 = C.guint(acceleratorKey)
	arg2 = (C.GdkModifierType)(acceleratorMods)

	ret := C.gtk_accelerator_get_label(arg1, arg2)

	var ret0 string

	ret0 = C.GoString(ret)
	C.free(unsafe.Pointer(ret))

	return ret0
}

// AcceleratorGetLabelWithKeycode converts an accelerator keyval and modifier
// mask into a string that can be displayed to the user.
//
// The string may be translated.
//
// This function is similar to [func@Gtk.accelerator_get_label], but handling
// keycodes.
//
// This is only useful for system-level components, applications should use
// gtk_accelerator_parse() instead.
func AcceleratorGetLabelWithKeycode(display gdk.Display, acceleratorKey uint, keycode uint, acceleratorMods gdk.ModifierType) string {
	var arg1 *C.GdkDisplay
	var arg2 C.guint
	var arg3 C.guint
	var arg4 C.GdkModifierType

	arg1 = (*C.GdkDisplay)(display.Native())
	arg2 = C.guint(acceleratorKey)
	arg3 = C.guint(keycode)
	arg4 = (C.GdkModifierType)(acceleratorMods)

	ret := C.gtk_accelerator_get_label_with_keycode(arg1, arg2, arg3, arg4)

	var ret0 string

	ret0 = C.GoString(ret)
	C.free(unsafe.Pointer(ret))

	return ret0
}

// AcceleratorName converts an accelerator keyval and modifier mask into a
// string parseable by gtk_accelerator_parse().
//
// For example, if you pass in GDK_KEY_q and GDK_CONTROL_MASK, this function
// returns `<Control>q`.
//
// If you need to display accelerators in the user interface, see
// [func@Gtk.accelerator_get_label].
func AcceleratorName(acceleratorKey uint, acceleratorMods gdk.ModifierType) string {
	var arg1 C.guint
	var arg2 C.GdkModifierType

	arg1 = C.guint(acceleratorKey)
	arg2 = (C.GdkModifierType)(acceleratorMods)

	ret := C.gtk_accelerator_name(arg1, arg2)

	var ret0 string

	ret0 = C.GoString(ret)
	C.free(unsafe.Pointer(ret))

	return ret0
}

// AcceleratorNameWithKeycode converts an accelerator keyval and modifier mask
// into a string parseable by gtk_accelerator_parse_with_keycode().
//
// This is similar to [func@Gtk.accelerator_name] but handling keycodes. This is
// only useful for system-level components, applications should use
// gtk_accelerator_parse() instead.
func AcceleratorNameWithKeycode(display gdk.Display, acceleratorKey uint, keycode uint, acceleratorMods gdk.ModifierType) string {
	var arg1 *C.GdkDisplay
	var arg2 C.guint
	var arg3 C.guint
	var arg4 C.GdkModifierType

	arg1 = (*C.GdkDisplay)(display.Native())
	arg2 = C.guint(acceleratorKey)
	arg3 = C.guint(keycode)
	arg4 = (C.GdkModifierType)(acceleratorMods)

	ret := C.gtk_accelerator_name_with_keycode(arg1, arg2, arg3, arg4)

	var ret0 string

	ret0 = C.GoString(ret)
	C.free(unsafe.Pointer(ret))

	return ret0
}

// AcceleratorParse parses a string representing an accelerator.
//
// The format looks like “<Control>a” or “<Shift><Alt>F1”.
//
// The parser is fairly liberal and allows lower or upper case, and also
// abbreviations such as “<Ctl>” and “<Ctrl>”. Key names are parsed using
// [func@Gdk.keyval_from_name]. For character keys the name is not the symbol,
// but the lowercase name, e.g. one would use “<Ctrl>minus” instead of
// “<Ctrl>-”.
//
// If the parse fails, @accelerator_key and @accelerator_mods will be set to 0
// (zero).
func AcceleratorParse(accelerator string) (acceleratorKey uint, acceleratorMods gdk.ModifierType, ok bool) {
	var arg1 *C.char
	var arg2 *C.guint           // out
	var arg3 *C.GdkModifierType // out

	arg1 = (*C.gchar)(C.CString(accelerator))
	defer C.free(unsafe.Pointer(arg1))

	ret := C.gtk_accelerator_parse(arg1, &arg2, &arg3)

	var ret0 uint
	var ret1 *gdk.ModifierType
	var ret2 bool

	ret0 = uint(arg2)

	ret1 = (*gdk.ModifierType)(arg3)

	ret2 = C.bool(ret) != 0

	return ret0, ret1, ret2
}

// AcceleratorParseWithKeycode parses a string representing an accelerator.
//
// This is similar to [func@Gtk.accelerator_parse] but handles keycodes as well.
// This is only useful for system-level components, applications should use
// gtk_accelerator_parse() instead.
//
// If @accelerator_codes is given and the result stored in it is non-nil, the
// result must be freed with g_free().
//
// If a keycode is present in the accelerator and no @accelerator_codes is
// given, the parse will fail.
//
// If the parse fails, @accelerator_key, @accelerator_mods and
// @accelerator_codes will be set to 0 (zero).
func AcceleratorParseWithKeycode(accelerator string, display gdk.Display) (acceleratorKey uint, acceleratorCodes []uint, acceleratorMods gdk.ModifierType, ok bool) {
	var arg1 *C.char
	var arg2 *C.GdkDisplay
	var arg3 *C.guint           // out
	var arg4 **C.guint          // out
	var arg5 *C.GdkModifierType // out

	arg1 = (*C.gchar)(C.CString(accelerator))
	defer C.free(unsafe.Pointer(arg1))
	arg2 = (*C.GdkDisplay)(display.Native())

	ret := C.gtk_accelerator_parse_with_keycode(arg1, arg2, &arg3, &arg4, &arg5)

	var ret0 uint
	var ret1 []uint
	var ret2 *gdk.ModifierType
	var ret3 bool

	ret0 = uint(arg3)

	{
		var length uint
		for p := unsafe.Pointer(arg4); *p != 0; p = unsafe.Pointer(uintptr(p) + 1) {
			length++
		}

		ret1 = make([]uint, length)
		for i := 0; i < length; i++ {
			src := (*C.guint)(unsafe.Pointer(uintptr(unsafe.Pointer(arg4)) + i))
			ret1[i] = uint(src)
		}
	}

	ret2 = (*gdk.ModifierType)(arg5)

	ret3 = C.bool(ret) != 0

	return ret0, ret1, ret2, ret3
}

// AcceleratorValid determines whether a given keyval and modifier mask
// constitute a valid keyboard accelerator.
//
// For example, the GDK_KEY_a keyval plus GDK_CONTROL_MASK mark is valid, and
// matches the “Ctrl+a” accelerator. But, you can't, for instance, use the
// GDK_KEY_Control_L keyval as an accelerator.
func AcceleratorValid(keyval uint, modifiers gdk.ModifierType) bool {
	var arg1 C.guint
	var arg2 C.GdkModifierType

	arg1 = C.guint(keyval)
	arg2 = (C.GdkModifierType)(modifiers)

	ret := C.gtk_accelerator_valid(arg1, arg2)

	var ret0 bool

	ret0 = C.bool(ret) != 0

	return ret0
}
