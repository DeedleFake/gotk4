// Code generated by girgen. DO NOT EDIT.

package gtk

import (
	"unsafe"

	"github.com/diamondburned/gotk4/pkg/core/gbox"
	"github.com/diamondburned/gotk4/pkg/gdk/v3"
)

// #cgo pkg-config: gtk+-3.0
// #cgo CFLAGS: -Wno-deprecated-declarations
// #include <gtk/gtk-a11y.h>
// #include <gtk/gtk.h>
// #include <gtk/gtkx.h>
// extern void callbackDelete(gpointer);
// gchar* _gotk4_gtk3_TranslateFunc(gchar*, gpointer);
import "C"

type Stock = string

// TranslateFunc: function used to translate messages in e.g. IconFactory and
// ActionGroup.
//
// Deprecated: since version 3.10.
type TranslateFunc func(path string) (utf8 string)

//export _gotk4_gtk3_TranslateFunc
func _gotk4_gtk3_TranslateFunc(arg0 *C.gchar, arg1 C.gpointer) (cret *C.gchar) {
	v := gbox.Get(uintptr(arg1))
	if v == nil {
		panic(`callback not found`)
	}

	var path string // out

	path = C.GoString((*C.gchar)(unsafe.Pointer(arg0)))
	defer C.free(unsafe.Pointer(arg0))

	fn := v.(TranslateFunc)
	utf8 := fn(path)

	cret = (*C.gchar)(unsafe.Pointer(C.CString(utf8)))

	return cret
}

// StockAdd registers each of the stock items in items. If an item already
// exists with the same stock ID as one of the items, the old item gets
// replaced. The stock items are copied, so GTK+ does not hold any pointer into
// items and items can be freed. Use gtk_stock_add_static() if items is
// persistent and GTK+ need not copy the array.
//
// Deprecated: since version 3.10.
func StockAdd(items []StockItem) {
	var _arg1 *C.GtkStockItem
	var _arg2 C.guint

	_arg2 = (C.guint)(len(items))
	if len(items) > 0 {
		_arg1 = (*C.GtkStockItem)(unsafe.Pointer(&items[0]))
	}

	C.gtk_stock_add(_arg1, _arg2)
}

// StockAddStatic: same as gtk_stock_add(), but doesnâ€™t copy items, so items
// must persist until application exit.
//
// Deprecated: since version 3.10.
func StockAddStatic(items []StockItem) {
	var _arg1 *C.GtkStockItem
	var _arg2 C.guint

	_arg2 = (C.guint)(len(items))
	if len(items) > 0 {
		_arg1 = (*C.GtkStockItem)(unsafe.Pointer(&items[0]))
	}

	C.gtk_stock_add_static(_arg1, _arg2)
}

// StockLookup fills item with the registered values for stock_id, returning
// TRUE if stock_id was known.
//
// Deprecated: since version 3.10.
func StockLookup(stockId string) (StockItem, bool) {
	var _arg1 *C.gchar // out
	var _item StockItem
	var _cret C.gboolean // in

	_arg1 = (*C.gchar)(unsafe.Pointer(C.CString(stockId)))

	_cret = C.gtk_stock_lookup(_arg1, (*C.GtkStockItem)(unsafe.Pointer(&_item)))

	var _ok bool // out

	if _cret != 0 {
		_ok = true
	}

	return _item, _ok
}

// StockSetTranslateFunc sets a function to be used for translating the label of
// a stock item.
//
// If no function is registered for a translation domain, g_dgettext() is used.
//
// The function is used for all stock items whose translation_domain matches
// domain. Note that it is possible to use strings different from the actual
// gettext translation domain of your application for this, as long as your
// TranslateFunc uses the correct domain when calling dgettext(). This can be
// useful, e.g. when dealing with message contexts:
//
//    GtkStockItem items[] = {
//     { MY_ITEM1, NC_("odd items", "Item 1"), 0, 0, "odd-item-domain" },
//     { MY_ITEM2, NC_("even items", "Item 2"), 0, 0, "even-item-domain" },
//    };
//
//    gchar *
//    my_translate_func (const gchar *msgid,
//                       gpointer     data)
//    {
//      gchar *msgctxt = data;
//
//      return (gchar*)g_dpgettext2 (GETTEXT_PACKAGE, msgctxt, msgid);
//    }
//
//    ...
//
//    gtk_stock_add (items, G_N_ELEMENTS (items));
//    gtk_stock_set_translate_func ("odd-item-domain", my_translate_func, "odd items");
//    gtk_stock_set_translate_func ("even-item-domain", my_translate_func, "even items");
//
// Deprecated: since version 3.10.
func StockSetTranslateFunc(domain string, fn TranslateFunc) {
	var _arg1 *C.gchar           // out
	var _arg2 C.GtkTranslateFunc // out
	var _arg3 C.gpointer
	var _arg4 C.GDestroyNotify

	_arg1 = (*C.gchar)(unsafe.Pointer(C.CString(domain)))
	_arg2 = (*[0]byte)(C._gotk4_gtk3_TranslateFunc)
	_arg3 = C.gpointer(gbox.Assign(fn))
	_arg4 = (C.GDestroyNotify)((*[0]byte)(C.callbackDelete))

	C.gtk_stock_set_translate_func(_arg1, _arg2, _arg3, _arg4)
}

// StockItem: deprecated: since version 3.10.
type StockItem struct {
	native C.GtkStockItem
}

// Native returns the underlying C source pointer.
func (s *StockItem) Native() unsafe.Pointer {
	return unsafe.Pointer(&s.native)
}

// StockID: identifier.
func (s *StockItem) StockID() string {
	var v string // out
	v = C.GoString((*C.gchar)(unsafe.Pointer(s.native.stock_id)))
	return v
}

// Label: user visible label.
func (s *StockItem) Label() string {
	var v string // out
	v = C.GoString((*C.gchar)(unsafe.Pointer(s.native.label)))
	return v
}

// Modifier type for keyboard accelerator
func (s *StockItem) Modifier() gdk.ModifierType {
	var v gdk.ModifierType // out
	v = gdk.ModifierType(s.native.modifier)
	return v
}

// Keyval: keyboard accelerator
func (s *StockItem) Keyval() uint {
	var v uint // out
	v = uint(s.native.keyval)
	return v
}

// TranslationDomain: translation domain of the menu or toolbar item
func (s *StockItem) TranslationDomain() string {
	var v string // out
	v = C.GoString((*C.gchar)(unsafe.Pointer(s.native.translation_domain)))
	return v
}

// Free frees a stock item allocated on the heap, such as one returned by
// gtk_stock_item_copy(). Also frees the fields inside the stock item, if they
// are not NULL.
//
// Deprecated: since version 3.10.
func (item *StockItem) free() {
	var _arg0 *C.GtkStockItem // out

	_arg0 = (*C.GtkStockItem)(unsafe.Pointer(item))

	C.gtk_stock_item_free(_arg0)
}
